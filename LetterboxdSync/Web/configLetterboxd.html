<div id="LetterboxdSyncConfigPage" data-role="page" class="page type-interior pluginConfigurationPage withTabs" data-controller="__plugin/configLetterboxdjs">
    <div data-role="content">
        <div class="content-primary">
            <form id="LetterboxdSyncConfigForm">
                <div>
                    <h2 class="sectionTitle sectionTitle-cards"><b>LetterboxdSync</b></h2>
                    
                    <div class="selectContainer">
                        <a>${LabelUsername} Jellyfin</a>
                        <select is="emby-select" id="usersJellyfin" name="UsersJellyfin" class="emby-select-withcolor emby-select">
                        <div class="fieldDescription">Select the user you want to configure the integration</div>
                        </select>
                    </div>

                    <h3>Letterboxd Login</h3>
                    <div class="inputContainer">
                        <input is="emby-input" type="text" id="username" label="${LabelUsername} Letterboxd" />
                    </div>
                    <div class="inputContainer">
                        <input is="emby-input" type="password" id="password" label="${LabelPassword} Letterboxd" />
                    </div>
                    <div class="inputContainer">
                        <input is="emby-input" type="hidden" label="Raw Cookies" />
                        <br />
                        <textarea cols="98" rows="12" is="emby-textarea" id="cookiesraw"></textarea>
                        <div class="fieldDescription">If you are having 403 error, paste cookie headers from your browser after visiting letterboxd.com (e.g. includes <code>cf_clearance</code>).</div>
                    </div>

                    <h3>Options</h3>
                    <div class="checkboxContainer">
                        <label>
                            <input is="emby-checkbox" type="checkbox" id="enable" />
                            <span>Enable</span>
                        </label>
                        <div class="fieldDescription checkboxFieldDescription"> When active, it synchronizes the films watched by the selected user </div>
                    </div>
                    <div class="checkboxContainer">
                        <label>
                            <input is="emby-checkbox" type="checkbox" id="sendfavorite" />
                            <span>Send Favorite</span>
                        </label>
                        <div class="fieldDescription checkboxFieldDescription"> When active it sends favorite status </div>
                    </div>

                    <h3>Date Filtering</h3>
                    <div class="checkboxContainer">
                        <label>
                            <input is="emby-checkbox" type="checkbox" id="enabledatefilter" />
                            <span>Enable Date Filtering</span>
                        </label>
                        <div class="fieldDescription checkboxFieldDescription"> Only sync movies played within the specified number of days </div>
                    </div>
                    <div class="inputContainer">
                        <input is="emby-input" type="number" id="datefilterdays" label="Days to look back" min="1" max="365" />
                        <div class="fieldDescription">Number of days to look back for played movies (1-365)</div>
                    </div>

                    <h3>Watchlist Sync</h3>
                    <div class="fieldDescription">Add Letterboxd usernames whose public watchlists you want to sync as Jellyfin playlists. No login required.</div>
                    <div id="watchlistContainer"></div>
                    <div>
                        <button id="addWatchlistBtn" is="emby-button" type="button" class="raised">
                            <span>Add Watchlist</span>
                        </button>
                    </div>
                    <br />

                    <div>
                        <button id="save-button" is="emby-button" type="submit" class="raised button-submit block">
                            <span>${Save}</span>
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
